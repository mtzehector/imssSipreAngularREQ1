<app-header>
</app-header>
<div class="row" style="margin-top: -60px;">
    <app-menu-ux [rol]="rol"></app-menu-ux>
</div>
<div class="row" style="padding: 10px;">
    <div class="col-md-8">
    </div>
    <app-user-profile></app-user-profile>
</div>
<form role="form" [formGroup]="formGroup" (ngSubmit)="generarReporte()">
    <div class="row">
        <div class="row col-md-12" style="margin-bottom:-15px">
            <h4>Reportes Operador EF</h4>
            <hr class="red">
        </div>
        <div class="row">
            <div class="col-md-4">
                <label class=" control-label">Reporte*:</label>
                <div class="form-group">
                    <select class="form-control inputSimple" formControlName="tipoReporte"
                        [ngClass]="[!formGroup.controls['tipoReporte'].valid && formGroup.controls['tipoReporte'].touched ? 'form-control-error':'form-control']  ">
                        <option value="-1" disabled><span>Selecciona reporte</span></option>
                        <option value="4"><span>Compras de Cartera</span></option>
                    </select>
                    <div *ngIf="!formGroup.controls['tipoReporte'].valid">
                        <div
                            *ngIf=" formGroup.controls['tipoReporte'].errors?.required && formGroup.controls['tipoReporte'].touched">
                            <p class="error-class">El campo Tipo reporte es obligatorio.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <div class="row" *ngIf="formGroup.controls['tipoReporte'].value == 4">
        <div class="row col-md-12" style="margin-bottom:-20px">
            <h5>Reporte de Compras de Cartera</h5>
            <hr class="red">
        </div>
        <div class="row col-md-12">
            <label><strong>Período de nómina</strong></label>
        </div>
        <div class="row">
            <div class="col-md-4">
                <label class=" control-label">Año*:</label>
                <div class="form-group">
                    <select class="form-control inputSimple"  formControlName="anioNominal"
                        [ngClass]="[!formGroup.controls['anioNominal'].valid && formGroup.controls['anioNominal'].touched ? 'form-control-error':'form-control']  ">
                        <option value="-1" [selected]=true disabled><span>Selecciona año</span></option>
                        <option *ngFor="let anio of  anioNominalArray" [value]="anio">
                            <span>{{anio}}</span>
                        </option>
                    </select>
                    <div *ngIf="!formGroup.controls['anioNominal'].valid">
                        <div
                            *ngIf=" formGroup.controls['anioNominal'].errors?.required && formGroup.controls['anioNominal'].touched">
                            <p class="error-class">El campo Año es obligatorio.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <label class=" control-label">Mes*:</label>
                <div class="form-group">
                    <select class="form-control inputSimple" formControlName="mesNominal"
                        [ngClass]="[!formGroup.controls['mesNominal'].valid && formGroup.controls['mesNominal'].touched ? 'form-control-error':'form-control']  ">
                        <option value="-1" [selected]=true  disabled><span>Selecciona mes</span></option>
                        <option *ngFor="let mes of  mesNominalArray" [value]="mes.id">
                            <span>{{mes.desc}}</span>
                        </option>
                    </select>
                    <div *ngIf="!formGroup.controls['mesNominal'].valid">
                        <div
                            *ngIf=" formGroup.controls['mesNominal'].errors?.required && formGroup.controls['mesNominal'].touched">
                            <p class="error-class">El campo Mes es obligatorio.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row pull-right">
        <div class="form-group">
            <div class="col-sm-12">
                <button type="button" routerLink="../home" class="btn btn-default inputBorder">
                    Regresar
                </button>
                &nbsp;&nbsp;
                <button type="submit" class="btn btn-primary inputBorder" [disabled]="formGroup.invalid">
                    Generar
                </button>
            </div>
        </div>
    </div>
</form>
<div class="row col-md-12" *ngIf="flagDescarga">
    <div *ngIf="idTipoReporte==4">
        
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-3">
                <label>Reporte de Compras de Cartera EF</label>
            </div>
            <div class="col-md-3">
                <app-download [documento]="doc23"></app-download>
            </div>
            <div class="col-md-3"></div>
        </div>
    </div>
</div>


<jw-modal id="carga">
    <div class="jw-modal-titulo"> <b>Atención</b></div>
    <div style="height:100%; width:100%">
        <br>
        <br>
        <p style="text-align:center"><b>Cargando datos</b></p>
        <div align="center">
            <div class="preloader"></div>
        </div>
        <br>
    </div>
</jw-modal>

<br>
<br><br>
<br>
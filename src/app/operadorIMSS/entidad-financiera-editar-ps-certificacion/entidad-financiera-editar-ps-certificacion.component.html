<div class="row" style="margin-left: 0%;">
    <h4>Prestador de servicios de certificación</h4>
    <hr class="red" style="margin: 10px 0 40px;">
</div>
<div class="row" style="margin-left: 0%;" *ngIf="!this.model.registrarEntidadFinanciera.mostrarComponentesEdicionPSCertificacion">
    <form #formaRegistrarEntidadCertificacion="ngForm" autocomplete="off" class="form-horizontal" role="form">
        <div class="row">
            <div class="col-sm-4">
                <label><span class="tarjeta-title-1">Registro Patronal*:</span></label>
                <input pInputText type="text" class="inputRegEnt" name="registroPatronalPSCertificacion"
                    [ngClass]="registroPatronalPSCertificacion.invalid && 
                        (registroPatronalPSCertificacion.dirty || registroPatronalPSCertificacion.touched) ? 'form-control-error' : 'form-control'"
                    [(ngModel)]="model.registrarEntidadFinanciera.prestadorServicioCertificado.registroPatronal"
                    #registroPatronalPSCertificacion="ngModel"
                    placeholder="Ingresa el registro patronal"
                    minlength="10"
                    maxlength="10"
                    pKeyFilter="alphanum" required autofocus />
                <div *ngIf="registroPatronalPSCertificacion.invalid && (registroPatronalPSCertificacion.dirty || registroPatronalPSCertificacion.touched)">
                  <div *ngIf="registroPatronalPSCertificacion.errors?.required">
                    <small class="form-text form-text-error">Es necesario ingresar la información del campo marcado como obligatorio.</small>
                  </div>
                  <div *ngIf="registroPatronalPSCertificacion.errors?.minlength || registroPatronalPSCertificacion.errors?.maxlength">
                    <small class="form-text form-text-error">Registro Patronal debe contener 10 caracteres</small>
                  </div>
                </div>
            </div>
            <div class="col-sm-4">
                <br />
                <button type="submit"
                    class="btn btn-primary"
                    [disabled]="!formaRegistrarEntidadCertificacion.valid"
                    (click)="formaRegistrarEntidadCertificacion.valid ? continuar() : ''">
                    Buscar
                </button>
            </div>
        </div>
    </form>
</div>
<div class="row" style="margin-left: 0%;" *ngIf="this.model.registrarEntidadFinanciera.mostrarComponentesEdicionPSCertificacion">
    <div class="row">
        <div class="col-sm-4">
            <label><span class="tarjeta-title-1">Registro Patronal*:</span></label>
            <br />
            <input style="width: 100%" pInputText type="text" class="inputRegEditEF" 
                [(ngModel)]="model.registrarEntidadFinanciera.prestadorServicioCertificado.registroPatronal" disabled>
        </div>
        <div class="col-sm-4">
            <label><span class="tarjeta-title-1">RFC:</span></label>
            <br />
            <input style="width: 100%" pInputText type="text" class="inputRegEditEF"
                [(ngModel)]="model.registrarEntidadFinanciera.prestadorServicioCertificado.rfc" disabled>
        </div>
        <div class="col-sm-4">
            <br />
            <button class="btn btn-primary"
                    (click)="limpiarPSCertificacion()">
                Eliminar
            </button>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col-sm-12">
            <label><span class="tarjeta-title-1">Razón Social:</span></label>
            <input style="width: 100%" pInputText type="text" class="inputRegEditEF"
                [(ngModel)]="model.registrarEntidadFinanciera.prestadorServicioCertificado.razonSocial" disabled>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col-sm-12">
            <label><span class="tarjeta-title-1">Domicilio*:</span></label>
            <input style="width: 100%" pInputText type="text" class="inputRegEditEF" name="direccionPSCertificacion"
                [ngClass]="direccionPSCertificacion.invalid && (direccionPSCertificacion.dirty ||
                    direccionPSCertificacion.touched) ? 'form-control-error' : 'form-control'"
                [(ngModel)]="model.registrarEntidadFinanciera.prestadorServicioCertificado.direccion" 
                #direccionPSCertificacion="ngModel"
                placeholder="Ingresa el domicilio" maxlength="200"
                (blur)="esValidaLaForma()"
                required>
            <div *ngIf="direccionPSCertificacion.invalid && (direccionPSCertificacion.dirty || direccionPSCertificacion.touched)">
                <div *ngIf="direccionPSCertificacion.errors?.required">
                    <small class="form-text form-text-error">Es necesario ingresar la información del campo marcado como obligatorio.</small>
                </div>    
            </div>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col-sm-12">
            <label><span class="tarjeta-title-1">Correo electrónico*:</span></label>
            <input style="width: 100%" pInputText type="text" class="inputRegEditEF" 
                name="correoElectronicoPSCertificacion"
                [ngClass]="correoElectronicoPSCertificacion.invalid && (correoElectronicoPSCertificacion.dirty 
                    || correoElectronicoPSCertificacion.touched) ? 'form-control-error' : 'form-control'"
                [(ngModel)]="model.registrarEntidadFinanciera.prestadorServicioCertificado.correoElectronico" 
                #correoElectronicoPSCertificacion="ngModel"
                placeholder="Ingresa el correo electrónico" maxlength="200" pattern="{{regexCorreo}}"
                oninput="this.value = this.value.toLowerCase()" (keydown.space)="$event.preventDefault()"
                (blur)="esValidaLaForma()"
                required />
            <div *ngIf="correoElectronicoPSCertificacion.invalid && (correoElectronicoPSCertificacion.dirty || correoElectronicoPSCertificacion.touched)">
                <div *ngIf="correoElectronicoPSCertificacion.errors?.required">
                    <small class="form-text form-text-error">Es necesario ingresar la información del campo marcado como obligatorio.</small>
                </div>
                <div *ngIf="correoElectronicoPSCertificacion.errors?.pattern">
                    <small class="form-text form-text-error">Asegúrate de que el correo electrónico este correctamente escrito.</small>
                </div> 
            </div>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col-sm-12">
            <label><span class="tarjeta-title-1">Página web*:</span></label>
            <input style="width: 100%" pInputText type="text" class="inputRegEditEF" name="paginaWebPSCertificacion"
                [ngClass]="paginaWebPSCertificacion.invalid && (paginaWebPSCertificacion.dirty || 
                    paginaWebPSCertificacion.touched) ? 'form-control-error' : 'form-control'"
                [(ngModel)]="model.registrarEntidadFinanciera.prestadorServicioCertificado.paginaWeb"
                #paginaWebPSCertificacion="ngModel"
                placeholder="Ingresa la página web" maxlength="200" pattern="{{regexURL}}"
                oninput="this.value = this.value.toLowerCase()" (keydown.space)="$event.preventDefault()"
                (blur)="esValidaLaForma()"
                required />
            <div *ngIf="paginaWebPSCertificacion.invalid && (paginaWebPSCertificacion.dirty || paginaWebPSCertificacion.touched)">
                <div *ngIf="paginaWebPSCertificacion.errors?.required">
                    <small class="form-text form-text-error">Es necesario ingresar la información del campo marcado como obligatorio.</small>
                </div>
                <div *ngIf="paginaWebPSCertificacion.errors?.pattern">
                    <small class="form-text form-text-error">Asegúrate de que la dirección de la página web este correctamente escrito.</small>
                </div> 
            </div>
        </div>
    </div>
    <br />
    <div class="row" *ngIf="this.model.registrarEntidadFinanciera.existeDocPSCertificado">
        <div class="col-sm-12">
            <input type="file" class="file-input"
                accept=".pdf"
                (change)="onFileSelect($event)"
                #fileUpload />
        </div>
    </div>
    <div class="row" *ngIf="!this.model.registrarEntidadFinanciera.existeDocPSCertificado">
        <div class="col-sm-12">
            <input type="file" class="file-input"
                accept=".pdf"
                (change)="onFileSelect($event)"
                #fileUpload
                required />
            <div *ngIf="cargaArchivo == null">
                <small class="form-text form-text-error">El contrato es requerido</small>
            </div>
        </div>
    </div>
</div>

